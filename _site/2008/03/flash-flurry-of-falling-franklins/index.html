<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>flash flurry of falling franklins | Forrest Oliphant</title>
  <link rel="alternate" type="application/rss+xml" title="Forrest O. feed" href="http://feeds.feedburner.com/forresto" />
  <link rel="stylesheet" href="/assets/tachyons.min.css"/>
  <style>
    html { line-height: 1.5; }
    iframe { max-width: 100%; }
    footer {
      background: url("/images/bg-footer.svg") right center / cover no-repeat;
    }
    footer a { color: white; }
  </style>
</head>
<body class="sans-serif">

<header class="ph2 cf">
  <h1 class="ma0 f3 fl">
    <a href="/" class="near-black no-underline">
      <img src="/images/forresto-com-logo.svg" width="72" height="72" class="grow-large v-mid">
      <span class="dib v-mid">
        Forrest Oliphant
      </span>
    </a>
  </h1>
  <nav class="fr ml2">
    <a class="dib ma1 link dim near-black underline" href="/">Home</a>
    <a class="dib ma1 link dim near-black underline" href="/thesis">Thesis</a>
    <a class="dib ma1 mr0 link dim near-black underline" href="#contact">Contact</a>
  </nav>
</header>

<div class="ph2">
<article class="mw7">
  <h1><a href="/2008/03/flash-flurry-of-falling-franklins/" class="link dim near-black">flash flurry of falling franklins</a></h1>
  <p>2008-03-13</p>

  <p><a target="_blank" href="http://www.forresto.com/files/dollars_640x480.swf"><img width="320" height="195" border="0" src="/assets/s320x240" alt="falling one dollar bills" /></a></p>
<p>Or Washingtons...</p>
<p>I got an interesting assignment from a design agency... they wanted to have a variable flurry of falling money in the background of an ad.  It's always a challenge in Flash to balance filesize and looks, and when ads are to be run on sites they almost always have strict filesize restrictions, usually 40KB.  Video is out of the question, and animating by hand would take ages, so this was a job for animating with ActionScript.</p>
<p>  I thought it would be a good idea to not totally reinvent the wheel, so I searched around and found a great <a target="_blank" href="http://www.kirupa.com/developer/flash8/snow.htm">falling snow tutorial</a> on <a target="_blank" href="http://www.kirupa.com/">Kirupa</a>, with well-written, easy to modify code.  This is what I came up with:</p>
<blockquote><pre>// flurry functions, adapted from http://www.kirupa.com/developer/flash8/snow.htm
var billno:Number = 0;
dropbill = function () {
	width = Stage.width;
	height = Stage.height;
	max_billsize = 5;
        // "dolla" is the single animated horizontally spinning dollar
	t = attachMovie("dolla", "dolla"+billno, billno);
        // random location along the top of the movie
	t._x = -(width/2)+Math.random()*(1.5*width);
	t._y = -200;
        // random sizes for each
	t._xscale = t._yscale=50+Math.random()*(max_billsize*10);
        // gravity
	t.g = 10+Math.random()*2;
        // wind
	t.w = -1.5+Math.random()*(1.4*3);
        // they start falling with different angles
	t._rotation = Math.random()*360;
        // random angle on x-axis spin (animated)
	t.gotoAndPlay(1+random(24));
        // so that they move
	t.onEnterFrame = mover;
	billno = billno&lt;150 ? billno+1 : 0;
};
mover = function () {
	this._y += this.g;
	this._x += this.w;
	if (this._y&gt;height+200 || this._x&gt;width+200 || this._x&lt;-200) {
		this.removeMovieClip();
	}
};
  </pre>
</blockquote>
<p> The main difference between my script and Kirupa's is killing the movie clips when they reach the bottom of the screen. That way, the quantity of falling dollars can be controlled on the timeline.<br />
<blockquote>
<pre>// to make one dollar fall, put this on the timeline:
dropbill();

// to make two dollars per second fall, put this on the timeline:
clearInterval(countup);
countup = setInterval(dropbill, 500);
  </pre>
</blockquote>
<p>  Check it out fullscreen: <a href="http://www.forresto.com/files/dollars_640x480.swf" target="_blank">dollars_640x480.swf</a>... only 16K! so I had plenty of wiggle room to work with the animated ad text. Now if only there were an easy way to automate ad layout four totally different size ratios :p</p>


  <hr />

   
    <ul class="tags">
      
      <li class="tag"><a href="/tag/actionscript">actionscript</a></li>
      
      <li class="tag"><a href="/tag/as2">as2</a></li>
      
      <li class="tag"><a href="/tag/flash">flash</a></li>
      
      <li class="tag"><a href="/tag/money">money</a></li>
      
    </ul>
  

  <nav class="cf"> 
    
      <a class="fl" href="/2008/03/john-neils-food-essays/" title="previous">&laquo; John Neil's food essays</a>
    
    
      <a class="fr" href="/2008/03/tigers-and-pink-flowers/" title="next">tigers and pink flowers &raquo;</a>
     
  </nav>

</article>

</div>

<footer class="mt4 ph2 pt4 pb5 bg-near-black white">
  <h1 id="contact" class="mv0">Elsewhere</h1>
  <div class="cf">
    <ul class="w-50 fl">
      <li id="writeme">
        forrest (ätt) sembiki (døt) com
      </li>
      <li>
        <a href="https://github.com/forresto">GitHub</a>
      </li>
      <li>
        <a href="https://stackoverflow.com/story/fo">StackOverflow Resume</a>
      </li>
      <li>
        <a href="https://www.linkedin.com/in/forrestoliphant">LinkedIn</a>
      </li>
    </ul>
    <ul class="w-50 fl">
      <li>
        <a href="https://twitter.com/forresto">Twitter</a>
      </li>
      <li>
        <a href="https://youtube.com/forresto">YouTube</a>
      </li>
      <li>
        <a href="https://flickr.com/forresto">Flickr</a>
      </li>
    </ul>
  </div>
</footer>

<script type="text/javascript">
  (function() {
    var s = "=b!isfg>#nbjmup;gpssftuAtfncjlj/dpn@tvckfdu>tjuf&31jorvjsz#?gpssftuAtfncjlj/dpn=0b?";
    var link = "";
    for (i=0; i<s.length; i++) {
      link += String.fromCharCode(s.charCodeAt(i)-1); 
    }
    document.getElementById('writeme').innerHTML = link;
  })();
</script>

</body>
</html>
